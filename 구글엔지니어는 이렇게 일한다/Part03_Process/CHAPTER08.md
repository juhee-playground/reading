
# 오늘 읽은 내용

## CHAPTER 08 스타일 가이드와 규칙

### TIL 3줄 요약

- 규칙을 정함으로서 형식이 아닌 내용에 집중할 수 있게 만든다.
- 왜 이 규칙을 정했는지 규칙에 대해 상세하게 적어논 문서가 필요하다.
- 일관성!

### TIL (Today I Learned) 날짜

2023.05.18

### 오늘 읽은 범위

구글은 스타일 가이드를 언어별로 관리하는데 가이드의 목표는 모두 비슷하다.
코드의 **지속 가능성**을 높이도록 이끄는 것이다.

8.1 규칙이 필요한 이유
규칙을 관리하는 목표는 '좋은' 행동 을 장려하고 '나쁜' 행동을 억제하기 위함이다.
좋은관 나쁜의 해석은 조직마다 차이가 있다. 따라서
규칙을 정하기 전에 조직이 추구하는 가치를 파악해서 무엇을 장려하거나 억제할지를 규정하는 규칙과 지침은 그 가치를 기준으로 정합니다.

어휘가 통일되면 엔지니어들은 코드를 표현하는 '형식' 보다 코드에 담을 '내용'에 집중할 수 있습니다.

8.2 규칙 만들기
규칙을 정의할 때 던져야 할 질문은 '무슨 규칙이 필요하지?'가 아니라 '어떤 목표를 이루려 하지?' 입니다.
목표에 집중하면 규칙이 따라옵니다.
구글 스타일 가이드를 정의할 때 '스타일 가이드를 무엇으로 채워야 하지?' 라고 묻지 않고 '왜 이 내용이 스타일 가이드에 들어가야 하지?' 라고 묻습니다.

8.2.1 기본 원칙 안내

[규칙을 만들 때 염두해 둬야 할 중요한 원칙]

- 규칙의 양을 최소화한다.
- 코드를 읽는 사람에게 맞춥니다.
    구글은 '쓰기에 간편한' 보다 '읽기에 간단한' 쪽에 가치를 둔다.
    구글은 엔지니어가 의도한 행위를 분명하게 알려주는 증거를 코드에 남기라고 요구합니다.
    (코드가 하려는 일을 읽는 사람이 즉시 알 수 있기를 원한다.)
    충분한 정보를 API 자체에 녹인 후 호출 지점에서 동작방식을 명확히 문서화함으로써 코드 일부만 보더라도 읽고 이해할수 있게한다.
    구글의 목적은 '현 위치에서 추론하기' 입니다. 다른 코드를 찾아보거나 참조할 필요 없이 호출 지점에서 명확히 알 수있게  하는 것.
    > 주석과 관련한 부분에서도 읽는 이를 위해 적소에 증거를 남기라는 이 목표를 뒷받침하도록 설계되어 있다.
    >
    > - 문서화주석(해당 파일, 클래스, 함수의 앞에 추가되는 불록 주석) : 뒤따르는 코드의 설계나 의도를 설명
    > - 구현주석(코드 자체에 산재하는 주석) :  뻔하지 않은 선택을 한 이유를 해명하거나 주의할 점을 알려주고 까다로운 로직을 설명하고 중요한 부분을 강조

- 일관되어야 합니다.
    구글은 일하는데 필요한 모든 시스템은 의도적으로 동일하게 관리한다.(와이파이 비번, 출입카드 등등)
    코드베이스 스타일 역시 일관되면 코드를 작성하는 엔지니어와 읽는 이들이 **'어떻게' 표현하느냐가 아닌 '무엇을' 수행하느냐에 집중할수 있다.**
    그래서 일관된 명명 규칙, 일관된 공통 패턴 사용, 일관된 포맷팅과 구조를 유지하기 위해 많은 신경을 쓴다.
    '일관되게 하라'를 지켜야 하는 범위는 작게 시작하여 점차 확장된다. 
    [우선적]
    파일 하나에서의 일관성 > 팀의 규약
    팀의 규약 > 프로젝트보다 나아가 전체 코드베이스
    일반적으로 규약은 바깥세상과 일관되게 잡는 편이 유리하다.
- 오류가 나기 쉽거나 예상치 못한 동작을 유발하는 구조를 피합니다.
    구글은 이해하기 쉽고 유지보수하기 쉬운 명료하고 직관적인 코드를 추구합니다.
- 꼭 필요하다면 실용을 생각해 예외를 허용합니다.
    일관성은 매우 중요하지만 **융통성**이 없어서는 안된다.

8.2.2 스타일 가이드

스타일 가이드의 세 범주

- 위험을 피하기 위한 규칙
    세월이 흘러도 관리 가능한 코드를 작성하는데 우선순위를 두었다.
- 모범 사례를 적용하기 위한 규칙
- 일관성을 보장하기 위한 규칙
    사소한 문제를 다루는 규칙도 많다. 단순히 결정을 내리고 그 결정을 문서로 남기는 것.
    이런 것들은 어떤 것을 선택해도 명확하고 가시적인 차이가 없는게 보통이다. 
    **단 하나를 선택함으로써 끝없는 논쟁에서 벗어나 더 중요한 일로 시선을 돌릴 수 있게 하는 것이다.**

8.3 규칙 수정하기
구글의 스타일 가이드는 고정불변이 아니다.
모든 규칙은 유용하고 최신 상태로 유지하려면 업데이트가 필요한 규칙이 무엇인지를 적시에 알아챌수 있어야 한다.

구글 스타일 가이드의 규칙에는 각각의 결정을 뒷받침하는 근거를 명시해두었다.
구글 스타일 가이드 항목 대부분에는 이러한 고려사항, 결정 과정에서 중요하게 생각한 장점과 단점, 최종 결론에 다다른 근거가 담겨 있다.
모든 규칙에 대해 이 논의 과정을 상세히 설명하고자 노력합니다.

8.3.1 프로세스

수정 프로세스는 해법을 중심으로 돌아간다.
현재의 문제를 찾아서 설명한 다음 해법을 보여준다. 여기서 문제는 현존하는 구글 코드에서 발견된 패텅으로 입증해야 한다.
규칙이 수정되야할 시점을 알아차리기에는 엔지니어들의 커뮤니티에서 가장 유리하다.
수정 대부분은 커뮤니티의 토론으로부터 출발한다.

8.3.2 스타일 중재자

스타일 가이드 수정 여부는 제안된 수정에 따르는 엔지니어링 측면의 트레이드오프를 논의하여 결정하며, 
중재자는 스타일 가이드가 지향하는 목표에 입각하여 판단합니다.
개인의 취향이 아닌 트레이드오프가 기준이 된다.
그러나 스타일 가이드 수정은 투표가 아니라 합의로 이루어진다.(개인 취향은 무시하고 모든 걸 트레이드 오프 평가에 기초하여 판단한다.)

8.3.3 예외

코드베이스의 무결성이 프로젝트의 일관성보다 중요합니다.
규칙을 따르기보다 예외를 인정하는 쪽이 이득이라고 판단될 때만 예외를 허용합니다.

8.4 지침

규칙과 더불어 구글은 다양한 형태의 프로그래밍 지침도 관리합니다.

규칙이 '반드시' 지켜야 하는 것이라면 지침은 '되도록' 따라야 하는 것 입니다.

구글이 관리하는 지침의 예로는 주요 언어들의 입문서가 있다. 입문서는 가이드가 권장하는 기능을 자세하게 설명한다.
입문서의 목표는 특정 기능을 실무에서 어떻게 적용해야 하는지를 궁금해하는 엔지니어들에게 던져줄 수 있는 참고서를 만드는 것이다.

구글이 관리하는 유용한 참고 자료

- 올바로 구현하기 어려운 주제에 관한 언어별 조언(예: 동시성과 해싱)
- 언어의 최신 버전에서 소개된 새로운 기능의 상세 설명과 구글 코드베이스에 적용하ㅏ는 방법에 관한 조언
- 구글 라이브러리가 제공하는 중요한 추상 개념과 데이터 구조 목록, 이미 만들어둔 구조를 새로 만드는 일을 방지해주고 '필요한게 있는데 우리 라이브러리에서 이걸 뭐라고 부르는지 모르겠어' 와 같은 질문에 답해준다.

8.5 규칙 적용하기

오류 검사기와 코드 포맷터가 있다.
언어 사용법과 관련한 규칙들은 상당수 정적 분석 도구로 강제할 수 있다.
구글은 코드의 형식을 일관되게 관리하기 위해 자동 스타일 검사기와 포맷터를 적극 이용한다.
대부분 자동화가 되어 있다.

8.5.2 코드 포맷터

### 오늘 읽은 소감은? 떠오르는 생각을 가볍게 적어보세요

구글은 새로운 사람이 더 빨리 적응할 수 있도록 신경쓴다. 이것은 곧 일에 대한 효율성을 높이는 일이다. 따뜻한 배려같지만 일에만 집중되게 하는 역활을 하는 것 같다.
왜? 가 중요하고 문서를 만들어 놓는 것을 게을리 하지 말자.
자동화!

### 궁금한 내용이 있거나, 잘 이해되지 않는 내용이 있다면 적어보세요

들어가서 봐볼 링크
<https://google.github.io/styleguide> => javascript 읽어보기
<https://abseil.io/tips> => c++ python 가이드만 있다.

### 해시태그: 키워드

#스타일가이드 #규칙